<VirtualHost *:80>
    ServerName financial-helper.andresjosehr.com
    ServerAdmin admin@financial-helper.andresjosehr.com

    # Proxy settings for Django application
    ProxyPreserveHost On
    ProxyPass /static/ !
    ProxyPass / http://web:8000/
    ProxyPassReverse / http://web:8000/

    # Static files
    Alias /static/ /app/staticfiles/
    <Directory /app/staticfiles>
        Require all granted
        Options -Indexes +FollowSymLinks
    </Directory>

    # Logging
    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined

    # Security headers
    <IfModule mod_headers.c>
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-XSS-Protection "1; mode=block"
    </IfModule>
</VirtualHost>
