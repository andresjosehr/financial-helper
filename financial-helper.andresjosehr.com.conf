<VirtualHost *:80>
    ServerName financial-helper.andresjosehr.com
    ServerAdmin admin@financial-helper.andresjosehr.com

    # Proxy settings for Django application
    ProxyPreserveHost On
    ProxyTimeout 360
    ProxyPass /static/ !
    ProxyPass / http://localhost:8000/ timeout=360
    ProxyPassReverse / http://localhost:8000/

    # Static files - mounted from Docker volume
    Alias /static/ /var/lib/docker/volumes/financial-helper_static_volume/_data/
    <Directory /var/lib/docker/volumes/financial-helper_static_volume/_data/>
        Require all granted
        Options -Indexes +FollowSymLinks
    </Directory>

    # Logging
    ErrorLog ${APACHE_LOG_DIR}/financial-helper-error.log
    CustomLog ${APACHE_LOG_DIR}/financial-helper-access.log combined

    # Security headers
    <IfModule mod_headers.c>
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-XSS-Protection "1; mode=block"
    </IfModule>
</VirtualHost>
